<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="battery" version="1.1" viewBox="0 0 400 400">
  <!-- Generator: Adobe Illustrator 30.0.0, SVG Export Plug-In . SVG Version: 2.1.1 Build 123)  -->
  <defs>
    <style>
      .battery_st0 {
        fill: #444;
      }

      .battery_st1, .battery_st2, .battery_st3, .battery_st4, .battery_st5, .battery_st6, .battery_st7 {
        fill: none;
      }

      .battery_st1, .battery_st3, .battery_st5, .battery_st6, .battery_st7 {
        stroke-linecap: round;
      }

      .battery_st1, .battery_st3, .battery_st8 {
        stroke-width: 2px;
      }

      .battery_st1, .battery_st5 {
        stroke: #222;
      }

      .battery_st9 {
        stroke: url(#battery-linear-gradient);
      }

      .battery_st9, .battery_st10 {
        fill: #333;
      }

      .battery_st9, .battery_st7 {
        stroke-width: 3px;
      }

      .battery_st11 {
        fill: url(#battery-linear-gradient2);
      }

      .battery_st2 {
        stroke-width: 2.5px;
      }

      .battery_st2, .battery_st3, .battery_st6 {
        stroke: #c22;
      }

      .battery_st12 {
        fill: #111;
        stroke: #333;
      }

      .battery_st13, .battery_st4, .battery_st5, .battery_st14, .battery_st15, .battery_st6 {
        isolation: isolate;
      }

      .battery_st4 {
        opacity: .6;
        stroke: #d8d0b6;
      }

      .battery_st5, .battery_st6 {
        opacity: .9;
        stroke-width: 1.2px;
      }

      .battery_st14 {
        fill: #222;
        font-family: Helvetica, Helvetica;
        font-size: 13px;
      }

      .battery_st15 {
        fill: #fff;
        opacity: 0;
      }

      .battery_st8 {
        fill: url(#battery-linear-gradient1);
        stroke: #b5ad93;
      }

      .battery_st7 {
        stroke: #111;
      }
    </style>
    <linearGradient id="battery-linear-gradient" x1="12.5" y1="389.5" x2="387.5" y2="14.5" gradientTransform="translate(0 402) scale(1 -1)" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#aaa"/>
      <stop offset="1" stop-color="#000"/>
    </linearGradient>
    <linearGradient id="battery-linear-gradient1" x1="-2151.3" y1="3" x2="-2151.3" y2="4" gradientTransform="translate(753167 -1013) scale(350)" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#f7f1e3"/>
      <stop offset="1" stop-color="#e9dfc8"/>
    </linearGradient>
    <linearGradient id="battery-linear-gradient2" x1="-2151.3" y1="3" x2="-2151.3" y2="4" gradientTransform="translate(753167 -1013) scale(350)" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#fff" stop-opacity=".5"/>
      <stop offset=".4" stop-color="#fff" stop-opacity=".2"/>
      <stop offset="1" stop-color="#fff" stop-opacity="0"/>
    </linearGradient>
  </defs>
  <rect class="battery_st9" x="10" y="10" width="380" height="380" rx="12" ry="12"/>
  <rect class="battery_st8" x="25" y="25" width="350" height="350" rx="10" ry="10"/>
  <path class="battery_st4" d="M312.6,241c-35.9,62.2-115.4,83.5-177.6,47.6-19.8-11.4-36.2-27.8-47.6-47.6"/>
  <g id="major-ticks">
    <line class="battery_st1" x1="286.6" y1="226" x2="312.6" y2="241"/>
    <line class="battery_st1" x1="258.8" y1="256.9" x2="276.4" y2="281.2"/>
    <line class="battery_st1" x1="220.8" y1="273.8" x2="227" y2="303.1"/>
    <line class="battery_st1" x1="179.2" y1="273.8" x2="173" y2="303.1"/>
    <line class="battery_st1" x1="141.2" y1="256.9" x2="123.6" y2="281.2"/>
    <line class="battery_st3" x1="113.4" y1="226" x2="87.4" y2="241"/>
  </g>
  <g id="minor-ticks">
    <line class="battery_st5" x1="285.5" y1="252.9" x2="296.6" y2="263"/>
    <line class="battery_st5" x1="246.8" y1="281" x2="252.9" y2="294.7"/>
    <line class="battery_st5" x1="200" y1="291" x2="200" y2="306"/>
    <line class="battery_st5" x1="153.2" y1="281" x2="147.1" y2="294.7"/>
    <line class="battery_st6" x1="114.5" y1="252.9" x2="103.4" y2="263"/>
  </g>
  <g id="labels">
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(122.8 227.5)"><tspan x="0" y="0">0</tspan></text>
    </g>
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(142.8 251.2)"><tspan x="0" y="0">20</tspan></text>
    </g>
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(175.1 266.9)"><tspan x="0" y="0">40</tspan></text>
    </g>
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(210.4 266.9)"><tspan x="0" y="0">60</tspan></text>
    </g>
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(242.7 251.2)"><tspan x="0" y="0">80</tspan></text>
    </g>
    <g class="battery_st13">
      <text class="battery_st14" transform="translate(262.8 227.5)"><tspan x="0" y="0">100</tspan></text>
    </g>
  </g>
  <g id="needleGroup">
    <line id="batteryline" class="battery_st7" x1="200" y1="176" x2="200" y2="296"/>
    <line class="battery_st2" x1="200" y1="296" x2="200" y2="306"/>
    <circle class="battery_st12" cx="200" cy="176" r="6"/>
    <circle class="battery_st15" cx="200" cy="176" r="3"/>
  </g>
  <g class="battery_st13">
    <path class="battery_st0" d="M180.7,124.1h1v.8c.2-.3.4-.5.7-.7.4-.2.8-.4,1.3-.4s1.3.3,1.8.8.7,1.3.7,2.3-.4,2.3-1.1,2.9-1,.6-1.6.6-.9,0-1.2-.3c-.2,0-.4-.3-.6-.6v3.2h-1.1v-8.7h.1ZM184.6,129c.3-.4.5-1,.5-1.8s0-.9-.2-1.3c-.3-.7-.8-1-1.5-1s-1.2.4-1.5,1.1c-.1.4-.2.9-.2,1.5s0,.9.2,1.2c.3.6.8,1,1.5,1s.9-.2,1.2-.6h0Z"/>
    <path class="battery_st0" d="M191.3,124.2c.4.2.7.5.9.8s.3.7.4,1.1v1.4h-4.6c0,.6.2,1.2.4,1.5.3.4.7.6,1.3.6s1-.2,1.3-.5.3-.5.4-.7h1c0,.2-.1.5-.3.8s-.3.5-.5.7c-.3.3-.7.5-1.2.6h-.9c-.8,0-1.4-.3-2-.9-.5-.6-.8-1.4-.8-2.4s.3-1.8.8-2.5c.5-.6,1.3-.9,2.1-.9s.9,0,1.3.3h.4ZM191.7,126.7c0-.5-.1-.8-.3-1.1-.3-.5-.8-.8-1.4-.8s-.9.2-1.2.5-.5.8-.5,1.3h3.5-.1Z"/>
    <path class="battery_st0" d="M194.1,124h1v1.1c0-.2.3-.5.6-.8s.7-.5,1.1-.5,0,0,0,0h.2v1.1h-.4c-.5,0-.9.2-1.2.5s-.4.7-.4,1.2v3.6h-1.1v-6.3h.2Z"/>
    <path class="battery_st0" d="M202.2,124.4c.4.3.7.9.8,1.8h-1c0-.4-.2-.7-.4-1s-.6-.4-1.1-.4-1.2.3-1.4,1c-.2.4-.3,1-.3,1.6s.1,1.2.4,1.6c.3.4.7.6,1.3.6s.8,0,1-.4.4-.6.5-1.1h1c-.1.8-.4,1.4-.9,1.8s-1.1.6-1.8.6-1.5-.3-2-.9-.7-1.3-.7-2.2.3-2,.8-2.6,1.2-.9,2-.9,1.3.2,1.7.5h0Z"/>
    <path class="battery_st0" d="M208,124.2c.4.2.7.5.9.8s.3.7.4,1.1v1.4h-4.6c0,.6.2,1.2.4,1.5.3.4.7.6,1.3.6s1-.2,1.3-.5.3-.5.4-.7h1c0,.2-.1.5-.3.8s-.3.5-.5.7c-.3.3-.7.5-1.2.6h-.9c-.8,0-1.4-.3-2-.9-.5-.6-.8-1.4-.8-2.4s.3-1.8.8-2.5c.5-.6,1.3-.9,2.1-.9s.9,0,1.3.3h.4ZM208.4,126.7c0-.5-.1-.8-.3-1.1-.3-.5-.8-.8-1.4-.8s-.9.2-1.2.5-.5.8-.5,1.3h3.5-.1Z"/>
    <path class="battery_st0" d="M210.8,124h1v.9c.3-.4.6-.6.9-.8s.7-.2,1.1-.2c.9,0,1.5.3,1.8.9.2.3.3.8.3,1.5v4h-1.1v-4c0-.4,0-.7-.2-.9-.2-.4-.5-.6-1-.6h-.6c-.3,0-.5.3-.8.5-.2.2-.3.4-.3.6v4.2h-1.1v-6.3.2Z"/>
    <path class="battery_st0" d="M217.7,122.3h1.1v1.8h1v.9h-1v4.1c0,.2,0,.4.2.4h.8v.8h-.8c-.5,0-.8,0-1-.4s-.3-.6-.3-1v-4.2h-.8v-.9h.8v-1.8.3Z"/>
  </g>
  <g>
    <path class="battery_st10" d="M158.3,104.3h-6.5v-14.4h7c1.8,0,3,.5,3.8,1.5.4.6.7,1.3.7,2.2s-.2,1.6-.7,2.1c-.2.3-.6.6-1.1.8.7.3,1.3.7,1.7,1.3s.6,1.3.6,2.1-.2,1.6-.6,2.3c-.3.4-.6.8-1,1.1-.5.4-1,.6-1.6.7s-1.3.2-2,.2h-.3ZM159.8,95.2c.4-.2.6-.7.6-1.3s-.3-1.1-.8-1.3c-.4,0-1-.2-1.7-.2h-3.2v3.2h3.5c.6,0,1.1,0,1.5-.4h0ZM158.3,98h-3.6v3.8h3.5c.6,0,1.1,0,1.5-.3.6-.3,1-.9,1-1.8s-.3-1.3-.9-1.5c-.3-.2-.8-.2-1.5-.2Z"/>
    <path class="battery_st10" d="M175.6,101.3h-5.3l-1,3h-3.1l5.1-14.4h3.4l5.1,14.4h-3.3s-.9-3-.9-3ZM174.8,98.9l-1.8-5.7-1.9,5.7h3.7Z"/>
    <path class="battery_st10" d="M191.6,89.9v2.5h-4.3v11.8h-3v-11.8h-4.3v-2.5h11.7,0Z"/>
    <path class="battery_st10" d="M204.9,89.9v2.5h-4.3v11.8h-3v-11.8h-4.3v-2.5h11.7,0Z"/>
    <path class="battery_st10" d="M217.6,98h-7v3.7h8v2.6h-10.9v-14.4h10.6v2.5h-7.6v3.1h7v2.5h-.1Z"/>
    <path class="battery_st10" d="M228.1,98.7h-3.1v5.6h-2.9v-14.4h7.1c1,0,1.8,0,2.3.4s1,.6,1.4,1c.3.4.6.8.7,1.2s.3.9.3,1.5-.2,1.4-.5,2-.9,1.1-1.7,1.4c.7.3,1.1.6,1.4,1.1s.4,1.2.4,2.3v2.3c0,.4.3.6.5.8v.4h-3.3c0-.3-.2-.6-.2-.8,0-.4-.1-.8-.1-1.2v-1.3c0-.9-.2-1.5-.5-1.8s-.9-.5-1.8-.5h0ZM229.9,96c.6-.3.9-.8.9-1.6s-.3-1.5-.9-1.8c-.3-.2-.8-.3-1.5-.3h-3.5v3.9h3.4c.7,0,1.2,0,1.5-.2h.1Z"/>
    <path class="battery_st10" d="M248.3,89.9l-4.8,9v5.4h-3v-5.4l-5-9h3.5l3,6.3,2.9-6.3h3.4Z"/>
  </g>
  <rect class="battery_st11" x="25" y="25" width="350" height="350" rx="10" ry="10"/>
<script type="application/ecmascript">

    function updateSVG(instrumentValue){
    // ========================================
    // STUDENT EDIT ZONE
    // This sections controls how the gauge displays
    // ========================================

    /**
     * Updates the oxygen gauge display
     * - The gauge needle rotates to show oxygen level
     * - 0% = -60 degrees (pointing left)
     * - 50% = 0 degrees (pointing up)
     * - 100% = +60 degrees (pointing right)
     */

      // Calculate rotation angle
      // Formula: (percentage - 50) * 1.2 to map 0-100 to -60 to +60 degrees
      const angle = (instrumentValue - 50) * -1.2;

      // Get the needle batteryline element
      const batteryline = document.getElementById('batteryline');
      if (!batteryline) {
        console.log('Cant find element to animate');
        return;
      }

      // Get the pivot point (start of the batteryline)
      const x1 = parseFloat(batteryline.getAttribute('x1'));
      const y1 = parseFloat(batteryline.getAttribute('y1'));

      // Rotate the needle around its pivot point
      batteryline.setAttribute('transform', `rotate(${angle}, ${x1}, ${y1})`);


    // ========================================
    // END STUDENT EDIT ZONE
    // ========================================

    }


    setInterval(() => { // do this repeatedly

    // Check localStorage for updates
      const thisSVGfilename = window.location.pathname;
    // this SVG expects a localStorage with the same name as its file
      const localStorageName =  thisSVGfilename.substring(thisSVGfilename.lastIndexOf('/') + 1, thisSVGfilename.lastIndexOf('.'));
      //let instrumentValue = localStorage.getItem(localStorageName);



    //if (instrumentValue !== null) {
      // Make sure percentage is between 0 and 100
      //instrumentValue = Math.max(0, Math.min(100, instrumentValue));

//    } else {
    // no localStorage, so make up a number, so it swings back and forth
    // Initialize static variables if they don't exist
    if (typeof window.batterytestValue === 'undefined') {
      window.batterytestValue = 0;
      window.batterytestDirection = 1; // 1 for increasing, -1 for decreasing
    }

    // Update the test value
    window.batterytestValue += window.batterytestDirection * 2; // increment by 2 each time

    // Reverse direction at boundaries
    if (window.batterytestValue &gt;= 100) {
      window.batterytestValue = 100;
      window.batterytestDirection = -1;
    } else if (window.batterytestValue &lt;= 0) {
      window.batterytestValue = 0;
      window.batterytestDirection = 1;
    }

    instrumentValue = window.batterytestValue;
    //console.log('no local storage \"'+localStorageName+'\", using test value:', instrumentValue);

  //   }

    updateSVG(instrumentValue)



    }, 50);  //end of setInterval code.  50 is 50 milliseconds or 20 times per second.

  </script></svg>